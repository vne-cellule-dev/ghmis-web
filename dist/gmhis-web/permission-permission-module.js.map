{"version":3,"sources":["./src/app/permission/permission/permission.component.ts","./src/app/permission/permission/permission.component.html","./src/app/common-component/common-component.module.ts","./src/app/permission/permission.module.ts","./src/app/_shared/alert/autorisation-alert/autorisation-alert.component.ts","./src/app/_shared/alert/autorisation-alert/autorisation-alert.component.html","./src/app/_services/menu.service.ts","./src/app/permission/permission-routing.module.ts"],"names":[],"mappings":"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","file":"permission-permission-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Permission } from 'src/app/_models/permission.model';\nimport { Role } from 'src/app/_models/role.model';\nimport { AuthenticationService } from 'src/app/_services/authentication.service';\nimport { MenuService } from 'src/app/_services/menu.service';\nimport { PermissionService } from 'src/app/_services/permission.service';\nimport { RoleService } from 'src/app/_services/role.service';\nimport { UserService } from 'src/app/_services/user.service';\nimport { AlertService } from 'src/app/_utility/alert/alert.service';\nimport { can } from 'src/app/_utility/permission/can';\nimport Swal from 'sweetalert2';\n\n\n@Component({\n  selector: 'app-permission',\n  templateUrl: './permission.component.html',\n  styleUrls: ['./permission.component.css']\n})\nexport class PermissionComponent implements OnInit {\n\n\n  /**\n    *  form Group\n    */\n  form: FormGroup;\n\n  /**\n   * form submission action, it will get the value of the action to do\n   */\n  formAction = '';\n\n  /**\n   * \n   */\n  role: object;\n\n  /**\n   * collection of active roles\n   */\n\n  roles: Role[];\n\n  /**\n   * collection of active\n   */\n  permissions = [];\n\n\n  /**\n   * \n   * collection of actives menus\n   */\n  menus: object;\n\n  /**\n   * handle the spinner\n   */\n  public loading = true;\n\n  /**\n   * permission service\n   */\n  appPermission: any;\n\n\n  /**\n   * define permissions\n   */\n  createPermission: boolean;\n  listPermission: boolean;\n  updatePermission: boolean;\n  enablePermission: boolean;\n  disablePermission: boolean;\n\n\n  constructor(\n    private roleService: RoleService,\n    private menuService: MenuService,\n    private alertService: AlertService,\n    private userService: UserService,\n    private authService: AuthenticationService\n  ) { }\n\n  /**\n   * action to do for display error msg and redirect\n   * @param msg \n   */\n  errorAction = function (msg: string, redirectTo: string) {\n    this.router.navigate([redirectTo]);\n    this.alertService.error(msg);\n  };\n\n  ngOnInit(): void {\n\n    this.roleService.findActive().subscribe(res => {\n      this.roles = res;\n      this.loading = false;\n    });\n\n    this.menuService.findAll().subscribe(res => {\n      this.menus = res;\n    });\n\n    this.setPermissions();\n\n  }\n\n  /**\n   * set Permissions to component ressources\n   */\n  setPermissions() {\n    this.userService.findByUsername(this.authService.getUsername()).subscribe(user => {\n      this.createPermission = can(user, 'createPermission');\n      this.listPermission = can(user, 'listPermission');\n      this.updatePermission = can(user, 'updatePermission');\n      this.enablePermission = can(user, 'enablePermission');\n      this.disablePermission = can(user, 'disablePermission');\n    });\n  }\n\n  /**\n  * fonction called at the form submission action whenever to add or update \n  */\n  save() {\n    // clear alert message\n    this.alertService.clear();\n    this.role = {\n      \"permissions\": this.permissions,\n      \"roleDTO\": {\n        \"active\": this.role['active'],\n        \"description\": this.role['description'],\n        \"id\": this.role['id'],\n        \"name\": this.role['name']\n      }\n    }\n\n    this.roleService.update(this.role).subscribe(\n      res => {\n        if (res) {\n          Swal.fire(\n            'Mis a jour!',\n            'les permissions du rôle ' + res.name + ' ont été mis a jour avec succès.',\n            'success'\n          )\n        }\n      },\n      error => {\n        Swal.fire(\n          'Oups Erreur!',\n          'Erreur lors de la modification!',\n          'error'\n        )\n      },\n      () => { }\n    );\n\n  }\n\n  /**\n   * get the form submission action\n   * @param action : string\n   */\n  actionToDo(action) {\n    this.formAction = action;\n  }\n\n  /**\n  * action to Do when  ckick on cancel button\n  */\n  cancelAction(roleId) {\n    this.loading = true;\n    Swal.fire(\n      'Annulé!',\n      'L\\'action à été annulée!',\n      'error'\n    );\n    this.roleService.findActive().subscribe(res => {\n      this.roles = res;\n      this.loading = false;\n    });\n\n    this.menuService.findAll().subscribe(res => {\n      this.menus = res;\n    });\n\n    this.setPermission(roleId);\n  }\n\n  /**\n   * \n   */\n  setPermission(roleId) {\n    this.roleService.findById(roleId).subscribe(role => {\n      this.role = role;\n      this.permissions = role.permissions.map(({ id }) => id);\n    });\n  }\n\n  /**\n   * insert or remove a permission from the prescribed Drugs array\n   * @param selectedRole \n   */\n  getPermission(permission) {\n\n    if (this.permissions.includes(permission)) {\n\n      let index = this.permissions.indexOf(permission);\n      this.permissions.splice(index, 1);\n\n    } else {\n\n      this.permissions.push(permission);\n    }\n\n  }\n\n}\n","<form  *ngIf=\"listPermission\">\r\n    <div class=\"card\">\r\n        <div class=\"card-header\">\r\n            <div class=\"mr-auto p-2 col-md-4\">\r\n                <h3>Gestion des Permissions</h3>\r\n            </div>\r\n        </div>\r\n        <div class=\"card-body\">\r\n            <div class=\"accordion\" id=\"accordionExample\" *ngIf=\"createPermission\">\r\n                <div class=\"text-center\">\r\n                    <div  *ngIf=\"loading\">\r\n                        <div class=\"spinner-border text-info\" role=\"status\">\r\n                            <span class=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                        <span class=\"text-muted ml-3 \" *ngIf=\"loading\">Loading...</span>\r\n                    </div>\r\n                 </div>\r\n                <div class=\"card\" *ngFor=\"let role of roles\" >\r\n                    <div class=\"card-header\" id=\"{{role.id}}\">\r\n                        <h2 class=\"mb-0\">\r\n                            <button class=\"btn btn-link btn-block text-left collapsed text-bold text-capitalize\" id=\"{{role.id}}\" (click)=\"setPermission(role.id)\"\r\n                                type=\"button\" data-toggle=\"collapse\" [attr.data-target]=\"'#collapse' + role.id\" aria-expanded=\"false\"\r\n                               [attr.aria-controls]=\"'collapse' + role.id\">\r\n                                {{role.name}}\r\n                            </button>\r\n                        </h2>\r\n                    </div>\r\n                    <div id=\"{{'collapse' + role.id}}\" class=\"collapse\" aria-labelledby=\"{{role.id}}\" data-parent=\"#accordionExample\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row mb-2\">\r\n                                <div class=\"col-lg-4 offset-8\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-4 col-md-6 col-sm-12 text-nowrap\">\r\n                                            <button type=\"button\" (click)=\"save()\"\r\n                                                class=\"btn btn-block btn-success btn-sm font-weight-bold\">\r\n                                                Enregistrer\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class=\"col-lg-4 col-md-6 col-sm-12 text-nowrap\">\r\n                                            <button type=\"button\" (click)=\"cancelAction(role.id)\" class=\"btn btn-block btn-danger btn-sm font-weight-bold\">\r\n                                                Annuler\r\n                                            </button>\r\n                                        </div>\r\n                \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"table-responsive\">\r\n                                    <table class=\"table table-bordered table-hover table-sm\">\r\n                                        <thead class=\"text-center\">\r\n                                            <th >Menu</th>\r\n                                            <th>Action</th>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor=\"let menu of menus \">\r\n                                                <td class=\" text-capitalize align-middle text-bold\"> {{ menu.name + ':' }} </td>\r\n                                                <td>\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-3\" *ngFor=\"let permission of menu.permissions\">\r\n                                                            <div class=\"custom-control custom-checkbox mr-sm-2\">\r\n                                                                <input type=\"checkbox\" class=\"custom-control-input\" id=\"{{permission.id +'-'+ menu.id +'-'+ role.id}}\" [attr.checked]=\"permissions.includes(permission.id)? true : null\"  (click)='getPermission(permission.id)'>\r\n                                                                <label class=\"custom-control-label\" for=\"{{permission.id +'-'+ menu.id +'-'+ role.id}}\">{{permission.name}}</label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table> \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n         </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n<app-autorisation-alert *ngIf=\"listPermission == false\"></app-autorisation-alert>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AutorisationAlertComponent } from '../_shared/alert/autorisation-alert/autorisation-alert.component';\n\n@NgModule({\n  declarations: [ AutorisationAlertComponent],\n  imports: [\n    CommonModule\n  ],\n  exports : [AutorisationAlertComponent],\n})\nexport class CommonComponentModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PermissionRoutingModule } from './permission-routing.module';\nimport { PermissionComponent } from './permission/permission.component';\nimport { CommonComponentModule } from '../common-component/common-component.module';\n\n\n@NgModule({\n  declarations: [\n    PermissionComponent, \n  ],\n  imports: [\n    CommonModule,\n    PermissionRoutingModule,\n    CommonComponentModule\n  ]\n})\nexport class PermissionModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-autorisation-alert',\n  templateUrl: './autorisation-alert.component.html',\n  styleUrls: ['./autorisation-alert.component.css']\n})\nexport class AutorisationAlertComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"card\"> \n    <div class=\"alert alert-danger\" >\n        Alert ! &nbsp;<i class=\"icon fas fa-ban\"></i>\n        Vous n'avez pas le droit d'acceder a cette ressource !!! Veillez contacter votre administrateur Web.\n   </div>\n</div>","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { Menu } from '../_models/menus.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MenuService {\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  /**\n   * get Menus\n   */\n  findAll(): Observable<Menu[]> {\n    return this.http.get<Menu[]>(environment.baseUrl2 + '/menu/menu_names_perm')\n  }\n\n  /**\n   * get actives menus names\n   */\n  findActive(): Observable<Menu[]> {\n    return this.http.get<Menu[]>(environment.baseUrl2 + '/menu/menu_names')\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PermissionComponent } from './permission/permission.component';\n\nconst routes: Routes = [\n  { path: '', component:PermissionComponent },\n \n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PermissionRoutingModule { }\n"],"sourceRoot":"webpack:///"}